version: 1.0
runtime: php81
build:
  commands:
    pre-build:
      - dnf config-manager --set-enabled crb
      - dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
      - dnf install https://rpms.remirepo.net/enterprise/remi-release-9.rpm
      - dnf module reset php
      - dnf module install php:remi-8.1
      - dnf install php-cli php-imagick
    build:
      - echo no build command for this PHP project
      - php -m
run:
  command: php -S 0.0.0.0:3000 -t .
  network:
    port: 3000
    env: APP_PORT
